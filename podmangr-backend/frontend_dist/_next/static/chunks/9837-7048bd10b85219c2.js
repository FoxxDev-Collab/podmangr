"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9837],{3209:(e,t,s)=>{s.d(t,{BT:()=>c,Wu:()=>i,ZB:()=>l,Zp:()=>n,aR:()=>o});var a=s(5155);s(2115);var r=s(5016);function n(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function o(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...s})}function c(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...s})}function i(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...s})}},3990:(e,t,s)=>{s.d(t,{U:()=>i});var a=s(5155);s(2115);var r=s(7494),n=s(9427),o=s(9451),l=s(1901),c=s(7003);function i(){let{theme:e,setTheme:t}=(0,l.D)(),s=()=>{switch(e){case"dark":return"Dark";case"light":return"Light";case"system":return"System"}};return(0,a.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>{"dark"===e?t("light"):"light"===e?t("system"):t("dark")},className:"gap-2 border-border/50 hover:border-accent/50 hover:bg-accent/10 transition-all duration-200",title:"Current theme: ".concat(s(),". Click to change."),children:[(()=>{switch(e){case"dark":return(0,a.jsx)(r.A,{className:"h-4 w-4"});case"light":return(0,a.jsx)(n.A,{className:"h-4 w-4"});case"system":return(0,a.jsx)(o.A,{className:"h-4 w-4"})}})(),(0,a.jsx)("span",{className:"text-xs tracking-wider",children:s()})]})}},5016:(e,t,s)=>{s.d(t,{cn:()=>n});var a=s(2821),r=s(5889);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},5781:(e,t,s)=>{s.d(t,{N:()=>el});var a=s(5155),r=s(3990),n=s(2115),o=s(7003),l=s(6707),c=s(63),i=s(4033),d=s(9708),m=s(4926),u=s(5870),x=s(2056),h=s(7494),f=s(3141),g=s(2952),p=s(2619),v=s.n(p);function b(){let{logout:e,user:t}=(0,l.A)(),s=(0,c.useRouter)(),[r,p]=(0,n.useState)(!1),[b,j]=(0,n.useState)(!1),N=async()=>{p(!1),await e(),s.push("/login")},w=async e=>{let t={poweroff:"Power Off",reboot:"Reboot",suspend:"Suspend"};if(confirm("Are you sure you want to ".concat(t[e].toLowerCase()," the system?"))){p(!1),j(!0);try{if(!(await fetch("/api/system/".concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("podmangr-token"))}})).ok)throw Error("Failed to ".concat(e," system"));"poweroff"===e?alert("System is shutting down..."):"reboot"===e&&alert("System is rebooting...")}catch(s){console.error("Failed to ".concat(e,":"),s),alert("Failed to ".concat(t[e].toLowerCase()," the system"))}finally{j(!1)}}};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>p(!r),className:"gap-2 border-border/50 hover:border-accent/50 hover:bg-accent/10 transition-all duration-200 ".concat(r?"bg-accent/10 border-accent/50":""),disabled:b,children:[(0,a.jsx)("div",{className:"w-7 h-7 rounded-lg bg-accent/20 border border-accent/40 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-accent font-bold text-xs",children:null==t?void 0:t.username[0].toUpperCase()})}),(0,a.jsx)("span",{className:"text-xs font-medium max-w-[100px] truncate",children:null==t?void 0:t.username}),(0,a.jsx)(i.A,{className:"w-3 h-3 transition-transform duration-200 ".concat(r?"rotate-180":"")})]}),r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>p(!1)}),(0,a.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-56 bg-card/95 backdrop-blur-md border border-border/50 rounded-lg shadow-2xl shadow-accent/10 z-50 overflow-hidden",children:[(0,a.jsx)("div",{className:"px-4 py-3 border-b border-border/50 bg-background/40",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-accent/20 border border-accent/40 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-accent font-bold text-lg",children:null==t?void 0:t.username[0].toUpperCase()})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-semibold text-foreground truncate text-sm",children:null==t?void 0:t.username}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground capitalize",children:null==t?void 0:t.role})]})]})}),(0,a.jsxs)("div",{className:"py-2",children:[(0,a.jsxs)("button",{onClick:()=>{p(!1),s.push("/login")},className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-accent/10 transition-colors text-left group",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 text-muted-foreground group-hover:text-accent"}),(0,a.jsx)("span",{className:"text-sm text-foreground group-hover:text-accent",children:"Lock Session"})]}),(0,a.jsxs)("button",{onClick:N,className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-accent/10 transition-colors text-left group",children:[(0,a.jsx)(m.A,{className:"w-4 h-4 text-muted-foreground group-hover:text-accent"}),(0,a.jsx)("span",{className:"text-sm text-foreground group-hover:text-accent",children:"Logout"})]}),(0,a.jsx)("div",{className:"my-2 h-px bg-border/50"}),(0,a.jsxs)(v(),{href:"/settings",onClick:()=>p(!1),className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-accent/10 transition-colors text-left group",children:[(0,a.jsx)(u.A,{className:"w-4 h-4 text-muted-foreground group-hover:text-accent"}),(0,a.jsx)("span",{className:"text-sm text-foreground group-hover:text-accent",children:"Settings"})]}),(null==t?void 0:t.role)==="admin"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"my-2 h-px bg-border/50"}),(0,a.jsx)("div",{className:"px-4 py-1",children:(0,a.jsxs)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider flex items-center gap-1",children:[(0,a.jsx)(x.A,{className:"w-3 h-3"}),"System Actions"]})}),(0,a.jsxs)("button",{onClick:()=>w("suspend"),className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-chart-2/10 transition-colors text-left group",disabled:b,children:[(0,a.jsx)(h.A,{className:"w-4 h-4 text-muted-foreground group-hover:text-chart-2"}),(0,a.jsx)("span",{className:"text-sm text-foreground group-hover:text-chart-2",children:"Suspend"})]}),(0,a.jsxs)("button",{onClick:()=>w("reboot"),className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-chart-2/10 transition-colors text-left group",disabled:b,children:[(0,a.jsx)(f.A,{className:"w-4 h-4 text-muted-foreground group-hover:text-chart-2"}),(0,a.jsx)("span",{className:"text-sm text-foreground group-hover:text-chart-2",children:"Reboot"})]}),(0,a.jsxs)("button",{onClick:()=>w("poweroff"),className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-destructive/10 transition-colors text-left group",disabled:b,children:[(0,a.jsx)(g.A,{className:"w-4 h-4 text-muted-foreground group-hover:text-destructive"}),(0,a.jsx)("span",{className:"text-sm text-foreground group-hover:text-destructive",children:"Power Off"})]})]})]}),(0,a.jsx)("div",{className:"px-4 py-2 border-t border-border/50 bg-background/20",children:(0,a.jsxs)("div",{className:"text-xs text-muted-foreground font-mono",children:[(0,a.jsx)("span",{className:"text-accent",children:">"})," Session active"]})})]})]})]})}var j=s(6198),N=s(7113),w=s(5016);function y(e){let{...t}=e;return(0,a.jsx)(N.bL,{"data-slot":"popover",...t})}function k(e){let{...t}=e;return(0,a.jsx)(N.l9,{"data-slot":"popover-trigger",...t})}function A(e){let{className:t,align:s="center",sideOffset:r=4,...n}=e;return(0,a.jsx)(N.ZL,{children:(0,a.jsx)(N.UC,{"data-slot":"popover-content",align:s,sideOffset:r,className:(0,w.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...n})})}var C=s(3166),S=s(3738),z=s(2987),F=s(5707),U=s(906),_=s(5710),B=s(523);function P(e){if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(1))+" "+["B","KB","MB","GB","TB"][t]}function T(e){let{icon:t,value:s,percentage:r,color:n="bg-accent"}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-2 px-2 py-1 rounded hover:bg-accent/10 transition-colors cursor-pointer group",children:[(0,a.jsx)("div",{className:"text-muted-foreground group-hover:text-accent transition-colors",children:t}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-xs font-mono text-foreground leading-none",children:s}),void 0!==r&&(0,a.jsx)("div",{className:"w-12 h-1 bg-muted rounded-full mt-1 overflow-hidden",children:(0,a.jsx)("div",{className:"h-full ".concat(n," transition-all duration-300"),style:{width:"".concat(Math.min(r,100),"%")}})})]})]})}function I(e){let{label:t,value:s,highlight:r}=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:t}),(0,a.jsx)("span",{className:"text-xs font-mono ".concat(r?"text-accent font-semibold":"text-foreground"),children:s})]})}function M(){var e,t,s,r,i,d,m,u,x,h;let{token:f}=(0,l.A)(),{settings:g}=(0,j.t)(),p=(0,c.useRouter)(),[v,b]=(0,n.useState)(null),[N,w]=(0,n.useState)(!0),M=(0,n.useCallback)(async()=>{if(f)try{let e=await fetch("/api/system/resources",{headers:{Authorization:"Bearer ".concat(f)}});if(!e.ok)throw Error("Failed to fetch");let t=await e.json();b(t),w(!0)}catch(e){w(!1)}},[f]);(0,n.useEffect)(()=>{if(f){M();let e=setInterval(M,1e3*g.tray.refreshInterval);return()=>clearInterval(e)}},[f,M,g.tray.refreshInterval]);let O=null!=(e=null==v?void 0:v.cpu.usage_percent)?e:0,$=null!=(t=null==v?void 0:v.cpu.cores)?t:0,E=null!=(s=null==v?void 0:v.memory.used)?s:0,L=null!=(r=null==v?void 0:v.memory.total)?r:1,D=null!=(i=null==v?void 0:v.memory.free)?i:0,R=null!=(d=null==v?void 0:v.memory.available)?d:0,V=null!=(m=null==v?void 0:v.memory.cached)?m:0,W=E/L*100,Z=null!=(u=null==v?void 0:v.disk.used)?u:0,G=null!=(x=null==v?void 0:v.disk.total)?x:1,Q=null!=(h=null==v?void 0:v.disk.free)?h:0,q=Z/G*100,{showCpu:J,showMemory:K,showDisk:X,showNetwork:H}=g.tray;return J||K||X||H?(0,a.jsxs)("div",{className:"flex items-center gap-1 border-l border-border/50 pl-3 ml-2",children:[H&&(0,a.jsxs)(y,{children:[(0,a.jsx)(k,{asChild:!0,children:(0,a.jsx)("button",{className:"px-2 py-1 rounded hover:bg-accent/10 transition-colors",children:N?(0,a.jsx)(C.A,{className:"w-3.5 h-3.5 text-primary"}):(0,a.jsx)(S.A,{className:"w-3.5 h-3.5 text-destructive"})})}),(0,a.jsx)(A,{className:"w-64",align:"end",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[N?(0,a.jsx)(C.A,{className:"w-4 h-4 text-primary"}):(0,a.jsx)(S.A,{className:"w-4 h-4 text-destructive"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:N?"Connected":"Disconnected"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:N?"System monitoring is active and receiving data.":"Unable to connect to the backend server."}),(0,a.jsxs)(o.$,{variant:"outline",size:"sm",className:"w-full gap-2",onClick:()=>p.push("/network-manager"),children:["Network Manager",(0,a.jsx)(z.A,{className:"w-3 h-3"})]})]})})]}),H&&(J||K||X)&&(0,a.jsx)("div",{className:"h-4 w-px bg-border/50"}),J&&(0,a.jsxs)(y,{children:[(0,a.jsx)(k,{asChild:!0,children:(0,a.jsx)("button",{children:(0,a.jsx)(T,{icon:(0,a.jsx)(F.A,{className:"w-3.5 h-3.5"}),value:"".concat(O.toFixed(0),"%"),percentage:O,color:"bg-chart-3"})})}),(0,a.jsx)(A,{className:"w-72",align:"end",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(F.A,{className:"w-4 h-4 text-chart-3"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:"CPU Usage"})]}),(0,a.jsxs)("span",{className:"text-2xl font-bold text-chart-3",children:[O.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-chart-3 transition-all duration-300",style:{width:"".concat(Math.min(O,100),"%")}})}),(0,a.jsxs)("div",{className:"border-t border-border pt-2 space-y-1",children:[(0,a.jsx)(I,{label:"Cores",value:"".concat($)}),(0,a.jsx)(I,{label:"Usage",value:"".concat(O.toFixed(1),"%"),highlight:!0})]}),(0,a.jsxs)(o.$,{variant:"outline",size:"sm",className:"w-full gap-2",onClick:()=>p.push("/process-manager"),children:[(0,a.jsx)(U.A,{className:"w-3 h-3"}),"View Processes",(0,a.jsx)(z.A,{className:"w-3 h-3"})]})]})})]}),K&&(0,a.jsxs)(y,{children:[(0,a.jsx)(k,{asChild:!0,children:(0,a.jsx)("button",{children:(0,a.jsx)(T,{icon:(0,a.jsx)(_.A,{className:"w-3.5 h-3.5"}),value:"".concat(P(E),"/").concat(P(L)),percentage:W,color:"bg-chart-4"})})}),(0,a.jsx)(A,{className:"w-72",align:"end",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(_.A,{className:"w-4 h-4 text-chart-4"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:"Memory Usage"})]}),(0,a.jsxs)("span",{className:"text-2xl font-bold text-chart-4",children:[W.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-chart-4 transition-all duration-300",style:{width:"".concat(Math.min(W,100),"%")}})}),(0,a.jsxs)("div",{className:"border-t border-border pt-2 space-y-1",children:[(0,a.jsx)(I,{label:"Total",value:P(L)}),(0,a.jsx)(I,{label:"Used",value:P(E),highlight:!0}),(0,a.jsx)(I,{label:"Free",value:P(D)}),(0,a.jsx)(I,{label:"Available",value:P(R)}),V>0&&(0,a.jsx)(I,{label:"Cached",value:P(V)})]}),(0,a.jsxs)(o.$,{variant:"outline",size:"sm",className:"w-full gap-2",onClick:()=>p.push("/process-manager"),children:[(0,a.jsx)(U.A,{className:"w-3 h-3"}),"View Processes",(0,a.jsx)(z.A,{className:"w-3 h-3"})]})]})})]}),X&&(0,a.jsxs)(y,{children:[(0,a.jsx)(k,{asChild:!0,children:(0,a.jsx)("button",{children:(0,a.jsx)(T,{icon:(0,a.jsx)(B.A,{className:"w-3.5 h-3.5"}),value:"".concat(q.toFixed(0),"%"),percentage:q,color:"bg-chart-5"})})}),(0,a.jsx)(A,{className:"w-72",align:"end",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(B.A,{className:"w-4 h-4 text-chart-5"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:"Disk Usage"})]}),(0,a.jsxs)("span",{className:"text-2xl font-bold text-chart-5",children:[q.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-chart-5 transition-all duration-300",style:{width:"".concat(Math.min(q,100),"%")}})}),(0,a.jsxs)("div",{className:"border-t border-border pt-2 space-y-1",children:[(0,a.jsx)(I,{label:"Total",value:P(G)}),(0,a.jsx)(I,{label:"Used",value:P(Z),highlight:!0}),(0,a.jsx)(I,{label:"Free",value:P(Q)})]}),(0,a.jsxs)(o.$,{variant:"outline",size:"sm",className:"w-full gap-2",onClick:()=>p.push("/storage"),children:[(0,a.jsx)(B.A,{className:"w-3 h-3"}),"Storage Manager",(0,a.jsx)(z.A,{className:"w-3 h-3"})]})]})})]})]}):null}var O=s(7220),$=s(7812),E=s(4172),L=s(508),D=s(9559),R=s(5917);function V(){let{token:e,user:t}=(0,l.A)(),[s,r]=(0,n.useState)([]),[c,d]=(0,n.useState)(""),[m,u]=(0,n.useState)(""),[x,h]=(0,n.useState)(!1),[f,g]=(0,n.useState)(!1),p=(null==t?void 0:t.role)==="admin"||(null==t?void 0:t.is_pam_admin),v=(0,n.useCallback)(async()=>{if(e){h(!0);try{let a=await fetch("/api/podman-sockets",{headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){var t,s;let e=await a.json();r(e.sockets||[]),d((null==(t=e.current)?void 0:t.id)||""),u((null==(s=e.current)?void 0:s.mode)||"")}}catch(e){console.error("Failed to fetch sockets:",e)}finally{h(!1)}}},[e]);(0,n.useEffect)(()=>{v()},[v]);let b=async t=>{if(e&&p&&t!==c){g(!0);try{let r=await fetch("/api/podman-sockets/switch",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({socket_id:t})});if(r.ok){var s,a;let e=await r.json();d((null==(s=e.current)?void 0:s.id)||t),u((null==(a=e.current)?void 0:a.mode)||""),window.location.reload()}}catch(e){console.error("Failed to switch socket:",e)}finally{g(!1)}}},j=async()=>{if(e&&p){h(!0);try{let a=await fetch("/api/podman-sockets/refresh",{method:"POST",headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){var t,s;let e=await a.json();r(e.sockets||[]),d((null==(t=e.current)?void 0:t.id)||""),u((null==(s=e.current)?void 0:s.mode)||"")}}catch(e){console.error("Failed to refresh sockets:",e)}finally{h(!1)}}};if(s.length<=1)return null;let N=s.find(e=>e.id===c);return(0,a.jsxs)(O.rI,{children:[(0,a.jsx)(O.ty,{asChild:!0,children:(0,a.jsxs)(o.$,{variant:"outline",size:"sm",className:"gap-2",disabled:x||f,children:["rootful"===m?(0,a.jsx)(E.A,{className:"h-4 w-4"}):(0,a.jsx)(L.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:(null==N?void 0:N.user)||m||"Select Context"}),(0,a.jsx)($.E,{variant:"outline",className:"text-xs ".concat("rootful"===m?"bg-red-500/20 text-red-400 border-red-500/40":"bg-green-500/20 text-green-400 border-green-500/40"),children:"rootful"===m?"root":"rootless"}),(0,a.jsx)(i.A,{className:"h-4 w-4"})]})}),(0,a.jsxs)(O.SQ,{align:"end",className:"w-64",children:[(0,a.jsxs)(O.lp,{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Podman Context"}),p&&(0,a.jsx)(o.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:j,disabled:x,children:(0,a.jsx)(D.A,{className:"h-3 w-3 ".concat(x?"animate-spin":"")})})]}),(0,a.jsx)(O.mB,{}),s.map(e=>(0,a.jsxs)(O._2,{onClick:()=>b(e.id),disabled:!e.accessible||!p||f,className:"flex items-center justify-between cursor-pointer",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["rootful"===e.mode?(0,a.jsx)(E.A,{className:"h-4 w-4 text-red-400"}):(0,a.jsx)(L.A,{className:"h-4 w-4 text-green-400"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-medium",children:e.user}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"rootful"===e.mode?"System (root)":"UID ".concat(e.uid)})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.active&&(0,a.jsx)(R.A,{className:"h-4 w-4 text-accent"}),!e.accessible&&(0,a.jsx)($.E,{variant:"outline",className:"text-xs",children:"No access"})]})]},e.id)),!p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.mB,{}),(0,a.jsx)("div",{className:"px-2 py-1.5 text-xs text-muted-foreground",children:"Admin required to switch contexts"})]})]})]})}var W=s(6140),Z=s(2196),G=s(9397),Q=s(4639),q=s(5757),J=s(9847),K=s(5370),X=s(803),H=s(5159),Y=s(3270),ee=s(1169),et=s(7937),es=s(3842);let ea=[{name:"Containers",href:"/container-manager",icon:W.A},{name:"Images",href:"/images",icon:Z.A},{name:"Pods",href:"/pods",icon:G.A},{name:"Volumes",href:"/volumes",icon:B.A},{name:"Networks",href:"/podman-networks",icon:Q.A},{name:"Stacks",href:"/stacks",icon:G.A},{name:"Templates",href:"/templates",icon:q.A}],er=[{name:"Translate",href:"/translate",icon:J.A},{name:"Databases",href:"/databases",icon:_.A},{name:"Secrets",href:"/secrets",icon:K.A},{name:"Terminal",href:"/terminal",icon:X.A}],en=[{name:"System Monitor",href:"/system-monitor",icon:U.A},{name:"Processes",href:"/process-manager",icon:H.A},{name:"Services",href:"/service-manager",icon:Y.A},{name:"Storage",href:"/storage-manager",icon:B.A},{name:"Users",href:"/user-manager",icon:ee.A,adminOnly:!0}];function eo(){var e,t;let s=(0,c.usePathname)(),{user:r}=(0,l.A)(),[o,d]=(0,n.useState)(!1),[m,x]=(0,n.useState)(!0),h=(null==r?void 0:r.role)==="admin",f=en.some(e=>s===e.href||(null==s?void 0:s.startsWith(e.href+"/"))),g=er.some(e=>s===e.href||(null==s?void 0:s.startsWith(e.href+"/"))),p=o||f,b=m||g,j=en.filter(e=>!e.adminOnly||!!h),N=e=>{let t=e.icon,r=s===e.href||(null==s?void 0:s.startsWith(e.href+"/"));return(0,a.jsx)(v(),{href:e.href,scroll:!1,children:(0,a.jsxs)("div",{className:"group flex items-center gap-2 px-3 py-2 rounded-md transition-all duration-150 ".concat(r?"bg-accent/15 border border-accent/30":"hover:bg-accent/10 border border-transparent"),children:[(0,a.jsx)(t,{className:"w-4 h-4 transition-colors flex-shrink-0 ".concat(r?"text-accent":"text-muted-foreground group-hover:text-accent")}),(0,a.jsx)("span",{className:"text-sm transition-colors ".concat(r?"text-foreground font-medium":"text-muted-foreground group-hover:text-foreground"),children:e.name})]})},e.href)},w=(e,t,s,r,n)=>(0,a.jsxs)("button",{onClick:()=>r(!s),className:"w-full flex items-center gap-2 px-3 py-2 rounded-md transition-all duration-150 hover:bg-accent/10 ".concat(n?"text-accent":"text-muted-foreground"),children:[(0,a.jsx)(t,{className:"w-4 h-4 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider flex-1 text-left",children:e}),s?(0,a.jsx)(i.A,{className:"w-3 h-3"}):(0,a.jsx)(et.A,{className:"w-3 h-3"})]});return(0,a.jsxs)("div",{className:"fixed left-0 top-0 h-full w-56 bg-card/95 backdrop-blur-md border-r border-border/50 shadow-lg flex flex-col z-40",children:[(0,a.jsx)("div",{className:"h-14 border-b border-border/50 flex items-center px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"relative w-7 h-7",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-accent/20 rounded-md flex items-center justify-center",children:(0,a.jsx)(W.A,{className:"w-4 h-4 text-accent"})})}),(0,a.jsx)("span",{className:"text-sm font-semibold tracking-wide text-foreground",children:"Podmangr"})]})}),(0,a.jsxs)("div",{className:"px-3 py-3 border-b border-border/50 bg-background/40",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-md bg-accent/20 border border-accent/40 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-accent font-semibold text-sm",children:(null==r||null==(t=r.username)||null==(e=t[0])?void 0:e.toUpperCase())||"?"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-foreground truncate",children:(null==r?void 0:r.username)||"Guest"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground capitalize",children:(null==r?void 0:r.role)||"viewer"})]})]}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(V,{})})]}),(0,a.jsxs)("nav",{className:"flex-1 p-2 space-y-1 overflow-y-auto",children:[(0,a.jsx)("div",{className:"space-y-0.5",children:ea.map(N)}),(0,a.jsx)("div",{className:"my-2 border-t border-border/30"}),(0,a.jsxs)("div",{className:"space-y-0.5",children:[w("Tools",es.A,b,x,g),b&&(0,a.jsx)("div",{className:"ml-2 space-y-0.5",children:er.map(N)})]}),(0,a.jsx)("div",{className:"my-2 border-t border-border/30"}),(0,a.jsxs)("div",{className:"space-y-0.5",children:[w("Server",E.A,p,d,f),p&&(0,a.jsx)("div",{className:"ml-2 space-y-0.5",children:j.map(N)})]}),(0,a.jsx)("div",{className:"my-2 border-t border-border/30"}),N({name:"Settings",href:"/settings",icon:u.A})]}),(0,a.jsx)("div",{className:"p-3 border-t border-border/50 bg-background/40",children:(0,a.jsx)("p",{className:"text-xs text-muted-foreground/60 text-center",children:"Podmangr v0.1.0"})})]})}function el(e){let{children:t,title:s,time:n,actions:o}=e,{settings:c}=(0,j.t)(),{token:i}=(0,l.A)(),d=(()=>{switch(c.desktop.backgroundType){case"color":return{backgroundColor:c.desktop.backgroundColor};case"gradient":return{background:c.desktop.backgroundGradient};case"image":return c.desktop.backgroundImage?{backgroundImage:"url(".concat((e=>{if(!e||!i)return e;if(e.startsWith("/api/files/")){let t=e.includes("?")?"&":"?";return"".concat(e).concat(t,"token=").concat(encodeURIComponent(i))}return e})(c.desktop.backgroundImage),")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{};default:return{}}})(),m="default"!==c.desktop.backgroundType;return(0,a.jsxs)("div",{className:"min-h-screen relative overflow-hidden flex ".concat(m?"":"bg-background"),style:m?d:void 0,children:[(0,a.jsx)(eo,{}),(0,a.jsxs)("div",{className:"flex-1 ml-56 flex flex-col",children:[(0,a.jsxs)("header",{className:"relative z-30 h-16 bg-card/60 backdrop-blur-md flex items-center justify-between px-6 shadow-lg border-b border-border/50",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:s&&(0,a.jsx)("span",{className:"text-lg font-medium text-foreground",children:s})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[o,o&&(0,a.jsx)("div",{className:"h-6 w-px bg-border/50"}),(0,a.jsx)(M,{}),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"h-4 w-px bg-border/50"}),(0,a.jsx)("span",{className:"text-xs font-mono text-accent px-3 py-1 rounded bg-gray-800 dark:bg-transparent",children:n})]}),(0,a.jsx)("div",{className:"h-6 w-px bg-border/50"}),(0,a.jsx)(r.U,{}),(0,a.jsx)(b,{})]})]}),(0,a.jsx)("main",{className:"relative z-10 flex-1 overflow-auto",children:t})]})]})}},7003:(e,t,s)=>{s.d(t,{$:()=>c,r:()=>l});var a=s(5155);s(2115);var r=s(2467),n=s(3101),o=s(5016);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:s,size:n,asChild:c=!1,...i}=e,d=c?r.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,o.cn)(l({variant:s,size:n,className:t})),...i})}},7220:(e,t,s)=>{s.d(t,{SQ:()=>c,_2:()=>i,lp:()=>d,mB:()=>m,rI:()=>o,ty:()=>l});var a=s(5155);s(2115);var r=s(4195),n=s(5016);function o(e){let{...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"dropdown-menu",...t})}function l(e){let{...t}=e;return(0,a.jsx)(r.l9,{"data-slot":"dropdown-menu-trigger",...t})}function c(e){let{className:t,sideOffset:s=4,...o}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsx)(r.UC,{"data-slot":"dropdown-menu-content",sideOffset:s,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...o})})}function i(e){let{className:t,inset:s,variant:o="default",...l}=e;return(0,a.jsx)(r.q7,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":o,className:(0,n.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l})}function d(e){let{className:t,inset:s,...o}=e;return(0,a.jsx)(r.JU,{"data-slot":"dropdown-menu-label","data-inset":s,className:(0,n.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...o})}function m(e){let{className:t,...s}=e;return(0,a.jsx)(r.wv,{"data-slot":"dropdown-menu-separator",className:(0,n.cn)("bg-border -mx-1 my-1 h-px",t),...s})}},7812:(e,t,s)=>{s.d(t,{E:()=>l});var a=s(5155);s(2115);var r=s(3101),n=s(5016);let o=(0,r.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(o({variant:s}),t),...r})}}}]);