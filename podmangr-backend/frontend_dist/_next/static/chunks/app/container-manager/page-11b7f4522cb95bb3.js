(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8180],{235:(e,s,t)=>{"use strict";t.d(s,{J:()=>l});var a=t(5155);t(2115);var n=t(489),r=t(5016);function l(e){let{className:s,...t}=e;return(0,a.jsx)(n.b,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}},923:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>c,av:()=>o,j7:()=>i,tU:()=>l});var a=t(5155);t(2115);var n=t(5218),r=t(5016);function l(e){let{className:s,...t}=e;return(0,a.jsx)(n.bL,{"data-slot":"tabs",className:(0,r.cn)("flex flex-col gap-2",s),...t})}function i(e){let{className:s,...t}=e;return(0,a.jsx)(n.B8,{"data-slot":"tabs-list",className:(0,r.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)(n.l9,{"data-slot":"tabs-trigger",className:(0,r.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function o(e){let{className:s,...t}=e;return(0,a.jsx)(n.UC,{"data-slot":"tabs-content",className:(0,r.cn)("flex-1 outline-none",s),...t})}},1091:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>eg});var a=t(5155),n=t(2115),r=t(63),l=t(6707),i=t(6198),c=t(3209),o=t(7003),d=t(6170),x=t(5781),m=t(923),u=t(1590),h=t(5229),p=t(5016);function g(e){let{...s}=e;return(0,a.jsx)(u.bL,{"data-slot":"sheet",...s})}function j(e){let{...s}=e;return(0,a.jsx)(u.ZL,{"data-slot":"sheet-portal",...s})}function f(e){let{className:s,...t}=e;return(0,a.jsx)(u.hJ,{"data-slot":"sheet-overlay",className:(0,p.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function v(e){let{className:s,children:t,side:n="right",...r}=e;return(0,a.jsxs)(j,{children:[(0,a.jsx)(f,{}),(0,a.jsxs)(u.UC,{"data-slot":"sheet-content",className:(0,p.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===n&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===n&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===n&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===n&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",s),...r,children:[t,(0,a.jsxs)(u.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,a.jsx)(h.A,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function b(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"sheet-header",className:(0,p.cn)("flex flex-col gap-1.5 p-4",s),...t})}function N(e){let{className:s,...t}=e;return(0,a.jsx)(u.hE,{"data-slot":"sheet-title",className:(0,p.cn)("text-foreground font-semibold",s),...t})}var w=t(6140),y=t(5299),k=t(6132),C=t(9e3),A=t(3141),S=t(803),E=t(5921),_=t(1360),z=t(906),R=t(5426),L=t(4639),P=t(523),O=t(7937),F=t(5870);function I(e){var s,t,r;let{containerId:i,onClose:d,onAction:x,onOpenTerminal:u,isAdmin:h}=e,{token:p}=(0,l.A)(),[j,f]=(0,n.useState)(null),[I,$]=(0,n.useState)(null),[B,D]=(0,n.useState)(!0),[J,M]=(0,n.useState)(null),[T,U]=(0,n.useState)("overview"),[W,Z]=(0,n.useState)(!1),G=(0,n.useCallback)(async()=>{if(p&&i)try{let e=await fetch("/api/containers/".concat(i),{headers:{Authorization:"Bearer ".concat(p)}});if(!e.ok)throw Error("Failed to fetch container details");let s=await e.json();f(s),M(null)}catch(e){M(e instanceof Error?e.message:"Failed to load details")}finally{D(!1)}},[p,i]),q=(0,n.useCallback)(async()=>{if(p&&i&&(null==j?void 0:j.running))try{let e=await fetch("/api/containers/".concat(i,"/stats"),{headers:{Authorization:"Bearer ".concat(p)}});if(e.ok){let s=await e.json();$(s)}}catch(e){}},[p,i,null==j?void 0:j.running]);(0,n.useEffect)(()=>{i&&(D(!0),f(null),$(null),G())},[i,G]),(0,n.useEffect)(()=>{if(null==j?void 0:j.running){q();let e=setInterval(q,3e3);return()=>clearInterval(e)}},[null==j?void 0:j.running,q]);let V=async e=>{if(i){Z(!0);try{await x(i,e),"remove"!==e?await G():d()}finally{Z(!1)}}},H=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["B","KB","MB","GB","TB"][s]},K=e=>e&&"0001-01-01T00:00:00Z"!==e?new Date(e).toLocaleString():"-";return(0,a.jsx)(g,{open:!!i,onOpenChange:()=>d(),children:(0,a.jsxs)(v,{className:"w-full sm:max-w-2xl overflow-y-auto",children:[(0,a.jsx)(b,{className:"border-b border-border/50 pb-4",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)(N,{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-cyan-500/20 border border-cyan-500/40 flex items-center justify-center",children:(0,a.jsx)(w.A,{className:"w-5 h-5 text-cyan-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"block",children:(null==j?void 0:j.name)||"Loading..."}),j&&(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded ".concat((e=>{switch(e){case"running":return"text-green-500 bg-green-500/20";case"paused":return"text-yellow-500 bg-yellow-500/20";case"exited":case"dead":return"text-red-500 bg-red-500/20";default:return"text-gray-500 bg-gray-500/20"}})(j.status)),children:j.status})]})]})})}),B?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(y.A,{className:"w-8 h-8 animate-spin text-accent"})}):J?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,a.jsx)(k.A,{className:"w-12 h-12 text-destructive mb-4"}),(0,a.jsx)("p",{className:"text-destructive",children:J})]}):j?(0,a.jsxs)("div",{className:"py-4 space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[j.running?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>V("stop"),disabled:W,className:"gap-2",children:[(0,a.jsx)(C.A,{className:"w-4 h-4"}),"Stop"]}),(0,a.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>V("restart"),disabled:W,className:"gap-2",children:[(0,a.jsx)(A.A,{className:"w-4 h-4"}),"Restart"]}),(0,a.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>u(i),className:"gap-2",children:[(0,a.jsx)(S.A,{className:"w-4 h-4"}),"Shell"]})]}):(0,a.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>V("start"),disabled:W,className:"gap-2",children:[(0,a.jsx)(E.A,{className:"w-4 h-4"}),"Start"]}),h&&(0,a.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>V("remove"),disabled:W,className:"gap-2 text-destructive hover:text-destructive",children:[(0,a.jsx)(_.A,{className:"w-4 h-4"}),"Remove"]})]}),j.running&&I&&(0,a.jsxs)(c.Zp,{className:"bg-card/50 border-border/50",children:[(0,a.jsx)(c.aR,{className:"py-3",children:(0,a.jsxs)(c.ZB,{className:"text-sm flex items-center gap-2",children:[(0,a.jsx)(z.A,{className:"w-4 h-4 text-accent"}),"Live Statistics"]})}),(0,a.jsxs)(c.Wu,{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"CPU"}),(0,a.jsxs)("div",{className:"text-lg font-semibold",children:[I.cpu_percent.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"h-1 bg-muted rounded-full overflow-hidden mt-1",children:(0,a.jsx)("div",{className:"h-full bg-cyan-500 transition-all",style:{width:"".concat(Math.min(I.cpu_percent,100),"%")}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Memory"}),(0,a.jsx)("div",{className:"text-lg font-semibold",children:H(I.memory_used)}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["/ ",H(I.memory_limit)," (",I.memory_percent.toFixed(1),"%)"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Network I/O"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-green-500",children:"↓"})," ",H(I.network_rx)]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-blue-500",children:"↑"})," ",H(I.network_tx)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"PIDs"}),(0,a.jsx)("div",{className:"text-lg font-semibold",children:I.pids})]})]})]}),(0,a.jsxs)(m.tU,{value:T,onValueChange:U,children:[(0,a.jsxs)(m.j7,{className:"grid grid-cols-4 w-full",children:[(0,a.jsx)(m.Xi,{value:"overview",className:"text-xs",children:"Overview"}),(0,a.jsx)(m.Xi,{value:"network",className:"text-xs",children:"Network"}),(0,a.jsx)(m.Xi,{value:"volumes",className:"text-xs",children:"Volumes"}),(0,a.jsx)(m.Xi,{value:"env",className:"text-xs",children:"Environment"})]}),(0,a.jsxs)(m.av,{value:"overview",className:"space-y-4 mt-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Container ID"}),(0,a.jsxs)("div",{className:"font-mono text-xs flex items-center gap-2",children:[j.container_id,(0,a.jsx)("button",{onClick:()=>{var e;return e=j.container_id,void navigator.clipboard.writeText(e)},className:"text-muted-foreground hover:text-accent",children:(0,a.jsx)(R.A,{className:"w-3 h-3"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Image"}),(0,a.jsx)("div",{className:"font-mono text-xs truncate",children:j.image})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Created"}),(0,a.jsx)("div",{className:"text-xs",children:K(j.created)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Started"}),(0,a.jsx)("div",{className:"text-xs",children:K(j.started_at)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Hostname"}),(0,a.jsx)("div",{className:"font-mono text-xs",children:j.hostname||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"PID"}),(0,a.jsx)("div",{className:"font-mono text-xs",children:j.running?j.pid:"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"User"}),(0,a.jsx)("div",{className:"font-mono text-xs",children:j.user||"root"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Restart Policy"}),(0,a.jsx)("div",{className:"text-xs",children:(null==(s=j.restart_policy)?void 0:s.name)||"no"})]})]}),((null==(t=j.entrypoint)?void 0:t.length)>0||(null==(r=j.cmd)?void 0:r.length)>0)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-2",children:"Command"}),(0,a.jsx)("div",{className:"bg-muted/50 rounded-lg p-3 font-mono text-xs overflow-x-auto",children:[...j.entrypoint||[],...j.cmd||[]].join(" ")})]}),j.labels&&Object.keys(j.labels).length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-2",children:"Labels"}),(0,a.jsx)("div",{className:"bg-muted/50 rounded-lg p-3 space-y-1 max-h-40 overflow-y-auto",children:Object.entries(j.labels).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"font-mono text-xs",children:[(0,a.jsx)("span",{className:"text-cyan-400",children:s}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"="}),(0,a.jsx)("span",{children:t})]},s)})})]})]}),(0,a.jsxs)(m.av,{value:"network",className:"space-y-4 mt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-2",children:"Network Mode"}),(0,a.jsx)("div",{className:"text-sm",children:j.network_mode||"bridge"})]}),j.networks&&Object.keys(j.networks).length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-2",children:"Connected Networks"}),(0,a.jsx)("div",{className:"space-y-3",children:Object.entries(j.networks).map(e=>{let[s,t]=e;return(0,a.jsx)(c.Zp,{className:"bg-muted/30",children:(0,a.jsxs)(c.Wu,{className:"p-3",children:[(0,a.jsxs)("div",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[(0,a.jsx)(L.A,{className:"w-4 h-4 text-accent"}),s]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"IP Address:"}),(0,a.jsx)("span",{className:"ml-2 font-mono",children:t.IPAddress||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Gateway:"}),(0,a.jsx)("span",{className:"ml-2 font-mono",children:t.Gateway||"-"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"MAC Address:"}),(0,a.jsx)("span",{className:"ml-2 font-mono",children:t.MacAddress||"-"})]})]})]})},s)})})]})]}),(0,a.jsx)(m.av,{value:"volumes",className:"space-y-4 mt-4",children:j.mounts&&j.mounts.length>0?(0,a.jsx)("div",{className:"space-y-3",children:j.mounts.map((e,s)=>(0,a.jsx)(c.Zp,{className:"bg-muted/30",children:(0,a.jsxs)(c.Wu,{className:"p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(P.A,{className:"w-4 h-4 text-accent"}),(0,a.jsx)("span",{className:"font-semibold text-sm",children:e.Type}),(0,a.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded ".concat(e.RW?"bg-green-500/20 text-green-500":"bg-yellow-500/20 text-yellow-500"),children:e.RW?"RW":"RO"})]}),(0,a.jsxs)("div",{className:"space-y-1 text-xs font-mono",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-muted-foreground w-16",children:"Source:"}),(0,a.jsx)("span",{className:"truncate",children:e.Source})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(O.A,{className:"w-3 h-3 text-muted-foreground"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-muted-foreground w-16",children:"Target:"}),(0,a.jsx)("span",{className:"truncate",children:e.Destination})]})]})]})},s))}):(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,a.jsx)(P.A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"No volumes mounted"})]})}),(0,a.jsx)(m.av,{value:"env",className:"space-y-4 mt-4",children:j.env&&j.env.length>0?(0,a.jsx)("div",{className:"bg-muted/50 rounded-lg p-3 space-y-1 max-h-80 overflow-y-auto",children:j.env.map((e,s)=>{let[t,...n]=e.split("="),r=n.join("="),l=t.toLowerCase().includes("password")||t.toLowerCase().includes("secret")||t.toLowerCase().includes("key")||t.toLowerCase().includes("token");return(0,a.jsxs)("div",{className:"font-mono text-xs",children:[(0,a.jsx)("span",{className:"text-cyan-400",children:t}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"="}),(0,a.jsx)("span",{children:l?"••••••••":r})]},s)})}):(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,a.jsx)(F.A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"No environment variables"})]})})]})]}):null]})})}var $=t(4679),B=t(7624),D=t(7354),J=t(7812);function M(e){let{containerId:s,containerName:t,onClose:r}=e,{token:i}=(0,l.A)(),c=(0,n.useRef)(null),[d,x]=(0,n.useState)(!1),[m,u]=(0,n.useState)(null),[p,g]=(0,n.useState)(!1),[j,f]=(0,n.useState)([]),[v,b]=(0,n.useState)(""),N=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(!s||!i)return;let e="https:"===window.location.protocol?"wss:":"ws:",t=new WebSocket("".concat(e,"//").concat(window.location.host,"/api/containers/").concat(s,"/exec"));return c.current=t,t.onopen=()=>{x(!0),u(null),t.send(JSON.stringify({type:"auth",token:i}))},t.onmessage=e=>{try{let s=JSON.parse(e.data);"output"===s.type?f(e=>[...e,s.data]):"error"===s.type&&u(s.message)}catch(s){f(s=>[...s,e.data])}},t.onerror=()=>{u("WebSocket connection error"),x(!1)},t.onclose=()=>{x(!1)},()=>{t.readyState===WebSocket.OPEN&&t.close()}},[s,i]),(0,n.useEffect)(()=>{N.current&&(N.current.scrollTop=N.current.scrollHeight)},[j]),(0,a.jsx)($.lG,{open:!!s,onOpenChange:r,children:(0,a.jsxs)($.Cf,{className:"".concat(p?"max-w-full h-screen":"max-w-4xl h-[600px]"," p-0 gap-0 flex flex-col"),children:[(0,a.jsxs)($.c7,{className:"px-4 py-3 border-b border-border/50 flex-row items-center justify-between space-y-0",children:[(0,a.jsxs)($.L3,{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-green-500/20 to-emerald-500/20 border border-green-500/30 flex items-center justify-center",children:(0,a.jsx)(S.A,{className:"w-4 h-4 text-green-400"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"Container Shell"}),t&&(0,a.jsx)("span",{className:"text-sm text-muted-foreground font-normal",children:t}),d?(0,a.jsx)(J.E,{variant:"outline",className:"bg-green-500/10 text-green-500 border-green-500/30",children:"Connected"}):(0,a.jsx)(J.E,{variant:"outline",className:"bg-red-500/10 text-red-500 border-red-500/30",children:"Disconnected"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>{f([])},className:"h-8 w-8",children:(0,a.jsx)(A.A,{className:"w-4 h-4"})}),(0,a.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>g(!p),className:"h-8 w-8",children:p?(0,a.jsx)(B.A,{className:"w-4 h-4"}):(0,a.jsx)(D.A,{className:"w-4 h-4"})}),(0,a.jsx)(o.$,{variant:"ghost",size:"icon",onClick:r,className:"h-8 w-8",children:(0,a.jsx)(h.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col bg-black/90 min-h-0",children:[(0,a.jsxs)("div",{ref:N,className:"flex-1 overflow-y-auto p-4 font-mono text-sm text-green-400 space-y-1",children:[m&&(0,a.jsx)("div",{className:"text-red-500 mb-4 p-2 bg-red-500/10 rounded border border-red-500/30",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:m}),(0,a.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>{u(null),f([]),c.current&&c.current.close()},className:"h-6 text-xs",children:"Reconnect"})]})}),0===j.length&&!m&&(0,a.jsx)("div",{className:"text-muted-foreground",children:d?"Connected. Type a command...":"Connecting..."}),j.map((e,s)=>(0,a.jsx)("div",{className:"whitespace-pre-wrap break-all",children:e},s))]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v.trim()&&c.current&&c.current.readyState===WebSocket.OPEN&&(c.current.send(JSON.stringify({type:"input",data:v+"\n"})),f(e=>[...e,"$ ".concat(v)]),b(""))},className:"border-t border-border/30 p-3 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-green-400 font-mono",children:"$"}),(0,a.jsx)("input",{type:"text",value:v,onChange:e=>b(e.target.value),placeholder:"Enter command...",disabled:!d,className:"flex-1 bg-transparent border-none outline-none text-green-400 font-mono placeholder:text-green-400/30 disabled:opacity-50",autoFocus:!0}),(0,a.jsx)(o.$,{type:"submit",size:"sm",disabled:!d||!v.trim(),className:"bg-green-500/20 hover:bg-green-500/30 text-green-400 border border-green-500/30",children:"Send"})]})]}),(0,a.jsx)("div",{className:"px-4 py-2 border-t border-border/50 bg-muted/30 text-xs text-muted-foreground",children:(0,a.jsx)("span",{children:"Tip: This terminal connects to the container's shell. Type 'exit' to disconnect."})})]})})}var T=t(7235),U=t(235),W=t(7507),Z=t(2180),G=t(7220),q=t(2056),V=t(3327),H=t(6927),K=t(9715),X=t(6154),Y=t(6651),Q=t(414),ee=t(6955),es=t(3511),et=t(5917),ea=t(9867),en=t(4033),er=t(4452),el=t(1187);function ei(e){let{containerId:s,containerName:t,onClose:r}=e,{token:i}=(0,l.A)(),[c,x]=(0,n.useState)([]),[m,u]=(0,n.useState)(""),[p,g]=(0,n.useState)(!1),[j,f]=(0,n.useState)(null),[v,b]=(0,n.useState)(!0),[N,w]=(0,n.useState)(!1),[C,S]=(0,n.useState)(!1),[z,L]=(0,n.useState)("500"),[P,O]=(0,n.useState)(!0),[F,I]=(0,n.useState)(!0),[M,ei]=(0,n.useState)(!1),[ec,eo]=(0,n.useState)(!0),[ed,ex]=(0,n.useState)("all"),[em,eu]=(0,n.useState)(new Set),eh=(0,n.useRef)(null),ep=(0,n.useRef)(null),eg=(0,n.useRef)(null),ej=(0,n.useMemo)(()=>c.map(e=>{let s={raw:e,message:e,isJson:!1},t=e.match(/^(\d{4}-\d{2}-\d{2}[T ]\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|[+-]\d{2}:?\d{2})?)\s*/);t&&(s.timestamp=t[1],s.message=e.slice(t[0].length));let a=s.message.match(/\b(ERROR|ERRO|ERR|FATAL|WARN|WARNING|INFO|DEBUG|DBG|TRACE)\b/i);if(a){let e=a[1].toUpperCase();["ERROR","ERRO","ERR","FATAL"].includes(e)?s.level="error":["WARN","WARNING"].includes(e)?s.level="warn":"INFO"===e?s.level="info":["DEBUG","DBG","TRACE"].includes(e)&&(s.level="debug")}try{let e=s.message.indexOf("{");if(-1!==e){let t=s.message.slice(e),a=JSON.parse(t);if(s.isJson=!0,s.jsonData=a,!s.level&&a.level){let e=String(a.level).toLowerCase();e.includes("err")||e.includes("fatal")?s.level="error":e.includes("warn")?s.level="warn":e.includes("info")?s.level="info":(e.includes("debug")||e.includes("trace"))&&(s.level="debug")}}}catch(e){}return s}),[c]),ef=(0,n.useMemo)(()=>{let e=ej;if("all"!==ed&&(e=e.filter(e=>e.level===ed)),m.trim())if(p)try{let s=RegExp(m,"gi");f(null),e=e.filter(e=>s.test(e.raw))}catch(e){f(e instanceof Error?e.message:"Invalid regex")}else{let s=m.toLowerCase();e=e.filter(e=>e.raw.toLowerCase().includes(s))}else f(null);return e},[ej,m,p,ed]),ev=(0,n.useMemo)(()=>{let e={error:0,warn:0,info:0,debug:0,other:0};return ej.forEach(s=>{s.level&&"all"!==s.level?e[s.level]++:e.other++}),e},[ej]),eb=(0,n.useCallback)(async()=>{if(i&&s){eo(!0);try{let e=new URLSearchParams({tail:z,timestamps:P.toString()}),t=await fetch("/api/containers/".concat(s,"/logs?").concat(e),{headers:{Authorization:"Bearer ".concat(i)}});if(!t.ok)throw Error("Failed to fetch logs");let a=await t.json();x(a.logs||[])}catch(e){console.error("Failed to fetch logs:",e)}finally{eo(!1)}}},[i,s,z,P]),eN=(0,n.useCallback)(()=>{if(!s||!i)return;let e="https:"===window.location.protocol?"wss:":"ws:",t=new WebSocket("".concat(e,"//").concat(window.location.host,"/api/containers/").concat(s,"/logs/stream"));ep.current=t,t.onopen=()=>{t.send(JSON.stringify({type:"auth",token:i})),w(!0)},t.onmessage=e=>{try{let s=JSON.parse(e.data);("log"===s.type||s.line)&&x(t=>[...t,s.line||s.message||e.data])}catch(s){x(s=>[...s,e.data])}},t.onerror=()=>w(!1),t.onclose=()=>{w(!1),ep.current=null}},[s,i]),ew=(0,n.useCallback)(()=>{ep.current&&(ep.current.close(),ep.current=null),w(!1)},[]);(0,n.useEffect)(()=>(s&&eb(),()=>ew()),[s,eb,ew]),(0,n.useEffect)(()=>{v&&eh.current&&(eh.current.scrollTop=eh.current.scrollHeight)},[ef,v]),(0,n.useEffect)(()=>{let e=e=>{var s,t;(e.ctrlKey||e.metaKey)&&"f"===e.key&&(e.preventDefault(),null==(s=eg.current)||s.focus()),"Escape"===e.key&&document.activeElement===eg.current&&(u(""),null==(t=eg.current)||t.blur())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);let ey=e=>{if("json"===e){let e=new Blob([JSON.stringify(ef.map((e,s)=>({line:s+1,timestamp:e.timestamp,level:e.level,message:e.message,raw:e.raw,...e.jsonData?{data:e.jsonData}:{}})),null,2)],{type:"application/json"}),a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download="".concat(t||s,"-logs.json"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}else{let e=new Blob([c.join("\n")],{type:"text/plain"}),a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download="".concat(t||s,"-logs.txt"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}},ek=()=>{ew(),eb()};return(0,a.jsx)($.lG,{open:!!s,onOpenChange:r,children:(0,a.jsx)($.Cf,{className:"".concat(C?"max-w-full h-screen":"max-w-6xl h-[800px]"," p-0 gap-0 flex flex-col"),children:(0,a.jsxs)(Z.Bc,{children:[(0,a.jsxs)($.c7,{className:"px-4 py-3 border-b border-border/50 flex-row items-center justify-between space-y-0",children:[(0,a.jsxs)($.L3,{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500/20 to-indigo-500/20 border border-blue-500/30 flex items-center justify-center",children:(0,a.jsx)(K.A,{className:"w-4 h-4 text-blue-400"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"Container Logs"}),t&&(0,a.jsx)("span",{className:"text-sm text-muted-foreground font-normal",children:t})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsxs)(J.E,{variant:"outline",className:"font-mono text-xs",children:[ef.length," / ",c.length]}),ev.error>0&&(0,a.jsxs)(J.E,{variant:"outline",className:"font-mono text-xs gap-1 border-red-500/30 text-red-400",children:[(0,a.jsx)(k.A,{className:"w-3 h-3"})," ",ev.error]}),ev.warn>0&&(0,a.jsxs)(J.E,{variant:"outline",className:"font-mono text-xs gap-1 border-yellow-500/30 text-yellow-400",children:[(0,a.jsx)(q.A,{className:"w-3 h-3"})," ",ev.warn]}),N&&(0,a.jsxs)(J.E,{className:"bg-green-500/20 text-green-400 border-green-500/30 gap-1",children:[(0,a.jsx)(X.A,{className:"w-3 h-3"})," Live"]}),(0,a.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>S(!C),className:"h-8 w-8 ml-2",children:C?(0,a.jsx)(B.A,{className:"w-4 h-4"}):(0,a.jsx)(D.A,{className:"w-4 h-4"})}),(0,a.jsx)(o.$,{variant:"ghost",size:"icon",onClick:r,className:"h-8 w-8",children:(0,a.jsx)(h.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"px-4 py-3 border-b border-border/50 bg-muted/30 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-[200px] relative",children:[(0,a.jsx)(Y.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,a.jsx)(d.p,{ref:eg,placeholder:p?"Search with regex...":"Search logs... (Ctrl+F)",value:m,onChange:e=>u(e.target.value),className:"pl-9 pr-10 ".concat(j?"border-red-500":"")}),(0,a.jsxs)(Z.m_,{children:[(0,a.jsx)(Z.k$,{asChild:!0,children:(0,a.jsx)(o.$,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 ".concat(p?"text-accent":"text-muted-foreground"),onClick:()=>g(!p),children:(0,a.jsx)(Q.A,{className:"w-4 h-4"})})}),(0,a.jsx)(Z.ZI,{children:p?"Regex mode enabled":"Enable regex search"})]})]}),(0,a.jsxs)(W.l6,{value:ed,onValueChange:e=>ex(e),children:[(0,a.jsxs)(W.bq,{className:"w-[130px]",children:[(0,a.jsx)(ee.A,{className:"w-4 h-4 mr-2"}),(0,a.jsx)(W.yv,{})]}),(0,a.jsxs)(W.gC,{children:[(0,a.jsx)(W.eb,{value:"all",children:"All Levels"}),(0,a.jsx)(W.eb,{value:"error",children:"Errors"}),(0,a.jsx)(W.eb,{value:"warn",children:"Warnings"}),(0,a.jsx)(W.eb,{value:"info",children:"Info"}),(0,a.jsx)(W.eb,{value:"debug",children:"Debug"})]})]}),(0,a.jsxs)(W.l6,{value:z,onValueChange:L,children:[(0,a.jsx)(W.bq,{className:"w-[130px]",children:(0,a.jsx)(W.yv,{})}),(0,a.jsxs)(W.gC,{children:[(0,a.jsx)(W.eb,{value:"100",children:"Last 100"}),(0,a.jsx)(W.eb,{value:"500",children:"Last 500"}),(0,a.jsx)(W.eb,{value:"1000",children:"Last 1,000"}),(0,a.jsx)(W.eb,{value:"5000",children:"Last 5,000"}),(0,a.jsx)(W.eb,{value:"all",children:"All lines"})]})]}),(0,a.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>{N?ew():eN()},className:N?"bg-green-500/20 border-green-500/30 text-green-400":"",children:[N?(0,a.jsx)(es.A,{className:"w-4 h-4 mr-2"}):(0,a.jsx)(E.A,{className:"w-4 h-4 mr-2"}),N?"Stop":"Follow"]}),(0,a.jsxs)(o.$,{variant:"outline",size:"sm",onClick:ek,disabled:ec,children:[ec?(0,a.jsx)(y.A,{className:"w-4 h-4 mr-2 animate-spin"}):(0,a.jsx)(A.A,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,a.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(ef.map(e=>e.raw).join("\n")),ei(!0),setTimeout(()=>ei(!1),2e3)},children:[M?(0,a.jsx)(et.A,{className:"w-4 h-4 mr-2"}):(0,a.jsx)(R.A,{className:"w-4 h-4 mr-2"}),M?"Copied!":"Copy"]}),(0,a.jsxs)(G.rI,{children:[(0,a.jsx)(G.ty,{asChild:!0,children:(0,a.jsxs)(o.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(ea.A,{className:"w-4 h-4 mr-2"}),"Export",(0,a.jsx)(en.A,{className:"w-3 h-3 ml-1"})]})}),(0,a.jsxs)(G.SQ,{children:[(0,a.jsxs)(G._2,{onClick:()=>ey("txt"),children:[(0,a.jsx)(K.A,{className:"w-4 h-4 mr-2"})," Download as .txt"]}),(0,a.jsxs)(G._2,{onClick:()=>ey("json"),children:[(0,a.jsx)(er.A,{className:"w-4 h-4 mr-2"})," Download as .json"]})]})]}),(0,a.jsxs)(Z.m_,{children:[(0,a.jsx)(Z.k$,{asChild:!0,children:(0,a.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>{x([]),eu(new Set)},children:(0,a.jsx)(_.A,{className:"w-4 h-4"})})}),(0,a.jsx)(Z.ZI,{children:"Clear logs from view"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(T.d,{id:"auto-scroll-dialog",checked:v,onCheckedChange:b}),(0,a.jsx)(U.J,{htmlFor:"auto-scroll-dialog",className:"text-sm cursor-pointer",children:"Auto-scroll"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(T.d,{id:"timestamps-dialog",checked:P,onCheckedChange:e=>{O(e),ek()}}),(0,a.jsx)(U.J,{htmlFor:"timestamps-dialog",className:"text-sm cursor-pointer",children:"Timestamps"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(T.d,{id:"wrap-dialog",checked:F,onCheckedChange:I}),(0,a.jsxs)(U.J,{htmlFor:"wrap-dialog",className:"text-sm cursor-pointer flex items-center gap-1",children:[(0,a.jsx)(el.A,{className:"w-3 h-3"})," Wrap"]})]})]})]}),(0,a.jsx)("div",{ref:eh,className:"flex-1 overflow-auto p-2 bg-[#0d1117] font-mono text-xs min-h-0",children:ec&&0===c.length?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(y.A,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):0===ef.length?(0,a.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:m||"all"!==ed?"No logs match your filters":"No logs available"}):(0,a.jsx)("div",{className:"space-y-0",children:ef.map((e,s)=>{let t=em.has(s);return(0,a.jsxs)("div",{className:"group flex hover:bg-white/5 rounded transition-colors ".concat(F?"":"whitespace-nowrap"),children:[(0,a.jsx)("span",{className:"select-none text-muted-foreground/50 w-12 flex-shrink-0 text-right pr-3 py-0.5 border-r border-border/20 mr-2",children:s+1}),(0,a.jsx)("span",{className:"w-5 flex-shrink-0 py-0.5",children:(e=>{switch(e){case"error":return(0,a.jsx)(k.A,{className:"w-3 h-3 text-red-400"});case"warn":return(0,a.jsx)(q.A,{className:"w-3 h-3 text-yellow-400"});case"info":return(0,a.jsx)(V.A,{className:"w-3 h-3 text-blue-400"});case"debug":return(0,a.jsx)(H.A,{className:"w-3 h-3 text-purple-400"});default:return null}})(e.level)}),(0,a.jsxs)("div",{className:"flex-1 py-0.5 ".concat(F?"break-all":"overflow-hidden"),children:[e.timestamp&&P&&(0,a.jsx)("span",{className:"text-muted-foreground/70 mr-2",children:e.timestamp}),(0,a.jsx)("span",{className:(e=>{switch(e){case"error":return"text-red-400";case"warn":return"text-yellow-400";case"info":return"text-blue-400";case"debug":return"text-purple-400";default:return"text-gray-300"}})(e.level),children:(e=>{if(!m.trim())return e;try{let s=p?RegExp("(".concat(m,")"),"gi"):RegExp("(".concat(m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")"),"gi");return e.split(s).map((e,t)=>s.test(e)?(0,a.jsx)("span",{className:"bg-yellow-500/40 text-yellow-200 rounded px-0.5",children:e},t):(0,a.jsx)("span",{children:e},t))}catch(s){return e}})(e.isJson&&!P?e.raw:e.message)}),e.isJson&&e.jsonData&&(0,a.jsx)("button",{onClick:()=>{eu(e=>{let t=new Set(e);return t.has(s)?t.delete(s):t.add(s),t})},className:"ml-2 text-accent hover:text-accent/80 text-[10px] uppercase font-semibold",children:t?"Collapse":"Expand JSON"}),e.isJson&&e.jsonData&&t&&(0,a.jsx)("pre",{className:"mt-1 p-2 bg-black/50 rounded border border-border/30 text-[11px] overflow-x-auto",children:JSON.stringify(e.jsonData,null,2)})]})]},s)})})}),(0,a.jsxs)("div",{className:"px-4 py-2 border-t border-border/50 bg-muted/30 text-xs text-muted-foreground flex items-center justify-between",children:[(0,a.jsx)("span",{children:N?"Streaming live logs...":"Showing ".concat(ef.length," of ").concat(c.length," lines")}),(0,a.jsx)("span",{className:"text-muted-foreground/60",children:"Ctrl+F to search • Esc to clear"})]})]})})})}var ec=t(5850),eo=t(1362),ed=t(8874),ex=t(6983),em=t(6617),eu=t(6191),eh=t(5880);let ep=(0,t(1847).A)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);function eg(){let{isAuthenticated:e,isLoading:s,token:t,user:m}=(0,l.A)(),{settings:u,updateContainerSettings:h}=(0,i.t)(),p=(0,r.useRouter)(),[g,j]=(0,n.useState)(""),[f,v]=(0,n.useState)(!1),[b,N]=(0,n.useState)(null),A=(null==m?void 0:m.role)==="admin"||(null==m?void 0:m.role)==="operator"||(null==m?void 0:m.is_pam_admin),[S,z]=(0,n.useState)(""),[R,L]=(0,n.useState)(!1),[O,B]=(0,n.useState)(!1),[D,J]=(0,n.useState)(!1),[Z,G]=(0,n.useState)(""),[q,V]=(0,n.useState)(0),[H,K]=(0,n.useState)([]),[X,Q]=(0,n.useState)(null),[ee,es]=(0,n.useState)(!1),et=(0,n.useRef)(null),[en,er]=(0,n.useState)([]),[el,eg]=(0,n.useState)([]),[ej,ef]=(0,n.useState)(""),[ev,eb]=(0,n.useState)("all"),[eN,ew]=(0,n.useState)(null),[ey,ek]=(0,n.useState)(null),[eC,eA]=(0,n.useState)(!1),[eS,eE]=(0,n.useState)(null),[e_,ez]=(0,n.useState)(null),[eR,eL]=(0,n.useState)(null),[eP,eO]=(0,n.useState)(null),[eF,eI]=(0,n.useState)(null),[e$,eB]=(0,n.useState)(""),[eD,eJ]=(0,n.useState)(!1),[eM,eT]=(0,n.useState)(null),[eU,eW]=(0,n.useState)({name:"",image:"",ports:"",volumes:"",environment:"",restart_policy:"no"}),eZ=(null==m?void 0:m.role)==="admin",eG=(0,n.useCallback)(async()=>{if(t)try{let e=await fetch("/api/containers/check",{headers:{Authorization:"Bearer ".concat(t)}}),s=await e.json();N(s.available),z(s.version||""),L(s.compose_available||!1)}catch(e){N(!1)}},[t]),eq=(0,n.useCallback)(async()=>{if(t&&eZ)try{let e=await fetch("/api/storage-config",{headers:{Authorization:"Bearer ".concat(t)}});if(e.ok){let s=await e.json();eI(s),eB(s.graph_root)}}catch(e){}},[t,eZ]),eV=async()=>{if(t&&e$){eJ(!0),eT(null);try{let e=await fetch("/api/storage-config",{method:"PUT",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({graph_root:e$})}),s=await e.json();if(!e.ok)return void eT(s.error||"Failed to update storage location");await eq(),await Promise.all([eH(),eK()])}catch(e){eT("Failed to update storage location")}finally{eJ(!1)}}},eH=(0,n.useCallback)(async()=>{if(t)try{let e=await fetch("/api/containers",{headers:{Authorization:"Bearer ".concat(t)}});if(!e.ok)throw Error("Failed to fetch containers");let s=await e.json();er(s||[]),ew(null)}catch(e){ew(e instanceof Error?e.message:"Failed to load containers")}},[t]),eK=(0,n.useCallback)(async()=>{if(t)try{let e=await fetch("/api/volumes",{headers:{Authorization:"Bearer ".concat(t)}});if(!e.ok)throw Error("Failed to fetch volumes");let s=await e.json();eg(s||[])}catch(e){console.error("Failed to load volumes:",e)}},[t]);if((0,n.useEffect)(()=>{s||e?s||!e||A||p.push("/dashboard"):p.push("/login")},[e,s,A,p]),(0,n.useEffect)(()=>{let e=()=>{j(new Date().toLocaleTimeString("en-US",{hour12:!1}))};e();let s=setInterval(e,1e3);return()=>clearInterval(s)},[]),(0,n.useEffect)(()=>{if(e&&t){eG(),eH(),eK(),eq();let e=setInterval(()=>{eH()},5e3);return()=>clearInterval(e)}},[e,t,eG,eH,eK,eq]),s||!e||!A)return(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,a.jsx)(w.A,{className:"w-12 h-12 text-accent animate-pulse"})});let eX=en.filter(e=>{let s=e.name.toLowerCase().includes(ej.toLowerCase())||e.image.toLowerCase().includes(ej.toLowerCase()),t="all"===ev||e.status===ev;return s&&t}),eY=en.filter(e=>"running"===e.status).length,eQ=en.filter(e=>"exited"===e.status||"stopped"===e.status).length,e0=async(e,s)=>{if(t&&("remove"!==s||confirm("Are you sure you want to remove this container?"))){ek(e);try{let a="remove"===s?"/api/containers/".concat(e,"?force=true"):"/api/containers/".concat(e,"/").concat(s),n=await fetch(a,{method:"remove"===s?"DELETE":"POST",headers:{Authorization:"Bearer ".concat(t)}});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error(e.error||"Failed to ".concat(s," container"))}await eH()}catch(e){alert(e instanceof Error?e.message:"Failed to ".concat(s," container"))}finally{ek(null)}}},e1=async()=>{if(t&&eU.name&&eU.image){ek("create");try{let e=eU.ports?eU.ports.split(",").map(e=>{let[s,t]=e.trim().split(":");return{host_port:parseInt(s),container_port:parseInt(t),protocol:"tcp"}}):[],s=eU.volumes?eU.volumes.split(",").map(e=>{let[s,t]=e.trim().split(":");return{source:s,target:t,type:"bind"}}):[],a={};eU.environment&&eU.environment.split(",").forEach(e=>{let[s,...t]=e.trim().split("=");a[s]=t.join("=")});let n=await fetch("/api/containers",{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({name:eU.name,image:eU.image,ports:e,volumes:s,environment:a,restart_policy:eU.restart_policy,auto_start:!0})});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error(e.error||"Failed to create container")}eA(!1),eW({name:"",image:"",ports:"",volumes:"",environment:"",restart_policy:"no"}),await eH()}catch(e){alert(e instanceof Error?e.message:"Failed to create container")}finally{ek(null)}}};return!1===b?(0,a.jsxs)(x.N,{title:"CONTAINER MANAGER",time:g,children:[(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)(c.Zp,{className:"border-amber-500/50 bg-card/70 max-w-2xl mx-auto",children:[(0,a.jsxs)(c.aR,{className:"text-center pb-2",children:[(0,a.jsx)("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-amber-500/20 border border-amber-500/40 flex items-center justify-center mb-4",children:(0,a.jsx)(em.A,{className:"w-8 h-8 text-amber-500"})}),(0,a.jsx)(c.ZB,{className:"text-xl",children:"Podman Not Installed"})]}),(0,a.jsxs)(c.Wu,{className:"text-center space-y-6",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"Podman is required for container management but is not currently installed on this system. Install Podman to create and manage containers, images, volumes, and networks."}),(0,a.jsxs)("div",{className:"bg-background/50 rounded-lg p-4 text-left",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-foreground mb-3",children:"What will be installed:"}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(eo.A,{className:"w-4 h-4 text-accent"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"EPEL Release"})," - Required repository for Podman packages"]})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(eo.A,{className:"w-4 h-4 text-accent"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Podman"})," - Container engine (Docker-compatible)"]})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(eo.A,{className:"w-4 h-4 text-accent"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Podman Compose"})," - Docker Compose compatibility layer"]})]})]})]}),eZ?(0,a.jsxs)(o.$,{size:"lg",onClick:()=>{B(!0),J(!0),G(""),V(0),K([]),Q(null),es(!1);let e="https:"===window.location.protocol?"wss:":"ws:",s=new WebSocket("".concat(e,"//").concat(window.location.host,"/api/containers/install?token=").concat(encodeURIComponent(t||"")));s.onmessage=e=>{try{let s=JSON.parse(e.data);if(s.complete){if(J(!1),s.success)es(!0),z(s.version||""),V(100),K(e=>[...e,"Podman v".concat(s.version," installed successfully!")]);else{let e="string"==typeof s.error?s.error:"Installation failed";Q(e)}return}s.step&&(G(s.step),V({epel:25,podman:50,compose:75,verify:90}[s.step]||0)),s.message&&K(e=>[...e,s.message]),s.output&&K(e=>[...e,s.output]),et.current&&(et.current.scrollTop=et.current.scrollHeight)}catch(e){}},s.onerror=()=>{J(!1),Q("WebSocket connection failed")},s.onclose=()=>{D&&J(!1)}},className:"gap-2 px-8",children:[(0,a.jsx)(ea.A,{className:"w-5 h-5"}),"Install Podman"]}):(0,a.jsxs)("div",{className:"text-sm text-muted-foreground bg-muted/50 rounded-lg p-4",children:[(0,a.jsx)(k.A,{className:"w-4 h-4 inline mr-2"}),"Administrator privileges required to install Podman. Please contact your system administrator."]})]})]})}),(0,a.jsx)($.lG,{open:O,onOpenChange:e=>!D&&B(e),children:(0,a.jsxs)($.Cf,{className:"sm:max-w-[600px]",children:[(0,a.jsxs)($.c7,{children:[(0,a.jsx)($.L3,{className:"flex items-center gap-2",children:D?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.A,{className:"w-5 h-5 animate-spin text-accent"}),"Installing Podman..."]}):ee?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eo.A,{className:"w-5 h-5 text-green-500"}),"Installation Complete"]}):X?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ed.A,{className:"w-5 h-5 text-destructive"}),"Installation Failed"]}):"Podman Installation"}),(0,a.jsx)($.rr,{children:D?"Please wait while Podman and related packages are being installed...":ee?"Podman v".concat(S," has been successfully installed."):X||"Ready to install Podman"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground capitalize",children:Z||"Preparing..."}),(0,a.jsxs)("span",{className:"text-accent",children:[q,"%"]})]}),(0,a.jsx)(ec.k,{value:q,className:"h-2"})]}),(0,a.jsx)("div",{ref:et,className:"bg-muted/50 border border-border rounded-lg p-4 h-64 overflow-y-auto font-mono text-xs",children:0===H.length?(0,a.jsx)("span",{className:"text-muted-foreground",children:"Waiting for installation output..."}):H.map((e,s)=>(0,a.jsx)("div",{className:"text-foreground/80 whitespace-pre-wrap",children:e},s))})]}),(0,a.jsx)($.Es,{children:!D&&(0,a.jsx)(o.$,{onClick:()=>{B(!1),ee&&(N(!0),eG())},children:ee?"Continue to Container Manager":"Close"})})]})})]}):(0,a.jsxs)(x.N,{title:"CONTAINER MANAGER",time:g,children:[(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)(c.Zp,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,a.jsxs)(c.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(c.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Total Containers"}),(0,a.jsx)(w.A,{className:"w-4 h-4 text-accent"})]}),(0,a.jsx)(c.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:en.length})})]}),(0,a.jsxs)(c.Zp,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,a.jsxs)(c.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(c.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Running"}),(0,a.jsx)(E.A,{className:"w-4 h-4 text-primary"})]}),(0,a.jsx)(c.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:eY})})]}),(0,a.jsxs)(c.Zp,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,a.jsxs)(c.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(c.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Stopped"}),(0,a.jsx)(C.A,{className:"w-4 h-4 text-muted-foreground"})]}),(0,a.jsx)(c.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold text-muted-foreground",children:eQ})})]})]}),S&&(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(eo.A,{className:"w-3 h-3 text-green-500"}),"Podman v",S]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[R?(0,a.jsx)(eo.A,{className:"w-3 h-3 text-green-500"}):(0,a.jsx)(ed.A,{className:"w-3 h-3 text-muted-foreground"}),"podman-compose ",R?"available":"not installed"]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,a.jsx)(Y.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,a.jsx)(d.p,{placeholder:"Search containers...",value:ej,onChange:e=>ef(e.target.value),className:"pl-10 bg-card/70 border-border/50"})]}),(0,a.jsxs)("select",{value:ev,onChange:e=>eb(e.target.value),className:"px-3 py-2 rounded-md bg-card/70 border border-border/50 text-sm",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"running",children:"Running"}),(0,a.jsx)("option",{value:"exited",children:"Stopped"})]})]}),eZ&&(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(o.$,{variant:"outline",onClick:()=>v(!0),className:"gap-2",children:[(0,a.jsx)(F.A,{className:"w-4 h-4"})," Settings"]}),(0,a.jsxs)(o.$,{onClick:()=>p.push("/container-create"),className:"gap-2",children:[(0,a.jsx)(eu.A,{className:"w-4 h-4"})," Create Container"]})]})]}),eN&&(0,a.jsx)(c.Zp,{className:"border-destructive/50 bg-destructive/10",children:(0,a.jsx)(c.Wu,{className:"py-3",children:(0,a.jsx)("p",{className:"text-sm text-destructive",children:eN})})}),(0,a.jsx)(c.Zp,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:(0,a.jsx)(c.Wu,{className:"p-0",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-border/50",children:[(0,a.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Image"}),(0,a.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Ports"}),(0,a.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:0===eX.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:5,className:"p-8 text-center text-muted-foreground",children:"No containers found"})}):eX.map(e=>(0,a.jsxs)("tr",{className:"border-b border-border/30 hover:bg-accent/5 transition-colors",children:[(0,a.jsxs)("td",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(e=>{switch(e){case"running":return(0,a.jsx)(eo.A,{className:"w-4 h-4 text-primary"});case"exited":case"stopped":return(0,a.jsx)(ed.A,{className:"w-4 h-4 text-muted-foreground"});case"dead":case"error":return(0,a.jsx)(k.A,{className:"w-4 h-4 text-destructive"});default:return(0,a.jsx)(ex.A,{className:"w-4 h-4 text-yellow-500"})}})(e.status),(0,a.jsx)("span",{className:"font-medium",children:e.name})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1 font-mono",children:e.container_id.substring(0,12)})]}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)("span",{className:"text-sm",children:e.image})}),(0,a.jsxs)("td",{className:"p-4",children:[(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("running"===e.status?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"),children:e.status}),e.uptime&&(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:e.uptime})]}),(0,a.jsx)("td",{className:"p-4",children:e.ports&&e.ports.length>0?(0,a.jsx)("div",{className:"space-y-1",children:e.ports.map((e,s)=>(0,a.jsxs)("div",{className:"text-xs font-mono",children:[e.host_port,":",e.container_port,"/",e.protocol]},s))}):(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"-"})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex gap-1",children:[eZ&&("running"===e.status?(0,a.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>e0(e.container_id,"stop"),disabled:ey===e.container_id,title:"Stop",children:ey===e.container_id?(0,a.jsx)(y.A,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(C.A,{className:"w-4 h-4"})}):(0,a.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>e0(e.container_id,"start"),disabled:ey===e.container_id,title:"Start",children:ey===e.container_id?(0,a.jsx)(y.A,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(E.A,{className:"w-4 h-4"})})),(0,a.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>p.push("/container-details?id=".concat(e.id||e.container_id)),title:"View Details",className:"text-cyan-400 hover:text-cyan-400",children:(0,a.jsx)(eh.A,{className:"w-4 h-4"})}),eZ&&(0,a.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>e0(e.container_id,"remove"),disabled:ey===e.container_id||"running"===e.status,className:"text-destructive hover:text-destructive",title:"running"===e.status?"Stop container first":"Remove",children:(0,a.jsx)(_.A,{className:"w-4 h-4"})})]})})]},e.container_id))})]})})})})]})]}),(0,a.jsx)($.lG,{open:eC,onOpenChange:eA,children:(0,a.jsxs)($.Cf,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)($.c7,{children:[(0,a.jsx)($.L3,{children:"Create Container"}),(0,a.jsx)($.rr,{children:"Create a new container from an image."})]}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(U.J,{htmlFor:"name",children:"Container Name"}),(0,a.jsx)(d.p,{id:"name",placeholder:"my-container",value:eU.name,onChange:e=>eW({...eU,name:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(U.J,{htmlFor:"image",children:"Image"}),(0,a.jsx)(d.p,{id:"image",placeholder:"nginx:latest",value:eU.image,onChange:e=>eW({...eU,image:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(U.J,{htmlFor:"ports",children:"Ports (host:container, comma-separated)"}),(0,a.jsx)(d.p,{id:"ports",placeholder:"8080:80, 443:443",value:eU.ports,onChange:e=>eW({...eU,ports:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(U.J,{htmlFor:"volumes",children:"Volumes (host:container, comma-separated)"}),(0,a.jsx)(d.p,{id:"volumes",placeholder:"/data:/app/data",value:eU.volumes,onChange:e=>eW({...eU,volumes:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(U.J,{htmlFor:"env",children:"Environment Variables (KEY=value, comma-separated)"}),(0,a.jsx)(d.p,{id:"env",placeholder:"DEBUG=true, API_KEY=xxx",value:eU.environment,onChange:e=>eW({...eU,environment:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(U.J,{htmlFor:"restart",children:"Restart Policy"}),(0,a.jsxs)("select",{id:"restart",value:eU.restart_policy,onChange:e=>eW({...eU,restart_policy:e.target.value}),className:"w-full px-3 py-2 rounded-md bg-background border border-border text-sm",children:[(0,a.jsx)("option",{value:"no",children:"No"}),(0,a.jsx)("option",{value:"always",children:"Always"}),(0,a.jsx)("option",{value:"on-failure",children:"On Failure"}),(0,a.jsx)("option",{value:"unless-stopped",children:"Unless Stopped"})]})]})]}),(0,a.jsxs)($.Es,{children:[(0,a.jsx)(o.$,{variant:"outline",onClick:()=>eA(!1),children:"Cancel"}),(0,a.jsx)(o.$,{onClick:e1,disabled:!eU.name||!eU.image||"create"===ey,children:"create"===ey?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.A,{className:"w-4 h-4 mr-2 animate-spin"})," Creating..."]}):"Create"})]})]})}),(0,a.jsx)(I,{containerId:eS,onClose:()=>eE(null),onAction:e0,onOpenTerminal:e=>{let s=en.find(s=>s.container_id===e);s&&(eO(s),eL(s.container_id))},isAdmin:eZ}),(0,a.jsx)(ei,{containerId:e_,containerName:null==eP?void 0:eP.name,onClose:()=>{ez(null),eO(null)}}),(0,a.jsx)(M,{containerId:eR,containerName:null==eP?void 0:eP.name,onClose:()=>{eL(null),eO(null)}}),(0,a.jsx)($.lG,{open:f,onOpenChange:v,children:(0,a.jsxs)($.Cf,{className:"sm:max-w-[550px]",children:[(0,a.jsxs)($.c7,{children:[(0,a.jsxs)($.L3,{className:"flex items-center gap-2",children:[(0,a.jsx)(F.A,{className:"w-5 h-5 text-accent"}),"Container Settings"]}),(0,a.jsx)($.rr,{children:"Configure default settings for container creation"})]}),(0,a.jsxs)("div",{className:"space-y-6 py-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(P.A,{className:"w-4 h-4 text-accent"}),(0,a.jsx)(U.J,{className:"font-medium",children:"Podman Storage Location"})]}),eF?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Current location:"}),(0,a.jsx)("code",{className:"font-mono text-xs bg-background px-2 py-1 rounded",children:eF.graph_root})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Storage driver:"}),(0,a.jsx)("span",{className:"text-xs",children:eF.driver})]}),eF.is_default&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Using default Podman storage location"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(U.J,{className:"text-sm",children:"Change storage location"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(d.p,{placeholder:"/mnt/containers/storage",value:e$,onChange:e=>eB(e.target.value),className:"font-mono flex-1",disabled:eD}),(0,a.jsx)(o.$,{variant:"outline",onClick:eV,disabled:eD||e$===eF.graph_root||!e$,children:eD?(0,a.jsx)(y.A,{className:"w-4 h-4 animate-spin"}):"Apply"})]})]}),eM&&(0,a.jsx)("div",{className:"p-2 bg-destructive/10 border border-destructive/30 rounded text-xs text-destructive",children:eM}),(0,a.jsx)("div",{className:"p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:(0,a.jsxs)("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:[(0,a.jsx)("strong",{children:"Warning:"})," Changing storage location will reset Podman storage. All existing containers, images, and volumes will be removed. Stop all containers before changing this setting."]})})]}):(0,a.jsx)("div",{className:"p-3 bg-muted/50 rounded-lg text-sm text-muted-foreground",children:"Storage configuration not available. Podman may not be installed."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(U.J,{children:"Default Restart Policy"}),(0,a.jsxs)(W.l6,{value:u.container.defaultRestartPolicy,onValueChange:e=>h({defaultRestartPolicy:e}),children:[(0,a.jsx)(W.bq,{children:(0,a.jsx)(W.yv,{})}),(0,a.jsxs)(W.gC,{children:[(0,a.jsx)(W.eb,{value:"no",children:"No (manual)"}),(0,a.jsx)(W.eb,{value:"always",children:"Always"}),(0,a.jsx)(W.eb,{value:"unless-stopped",children:"Unless Stopped"}),(0,a.jsx)(W.eb,{value:"on-failure",children:"On Failure"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(U.J,{children:"Default Network Mode"}),(0,a.jsxs)(W.l6,{value:u.container.defaultNetworkMode,onValueChange:e=>h({defaultNetworkMode:e}),children:[(0,a.jsx)(W.bq,{children:(0,a.jsx)(W.yv,{})}),(0,a.jsxs)(W.gC,{children:[(0,a.jsx)(W.eb,{value:"bridge",children:"Bridge (isolated)"}),(0,a.jsx)(W.eb,{value:"host",children:"Host (shared)"}),(0,a.jsx)(W.eb,{value:"none",children:"None"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(E.A,{className:"w-4 h-4 text-green-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(U.J,{className:"font-medium",children:"Auto-start Containers"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Start containers after creation"})]})]}),(0,a.jsx)(T.d,{checked:u.container.autoStartContainers,onCheckedChange:e=>h({autoStartContainers:e})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(ep,{className:"w-4 h-4 text-destructive"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(U.J,{className:"font-medium",children:"Privileged Mode Default"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Not recommended"})]})]}),(0,a.jsx)(T.d,{checked:u.container.enablePrivilegedByDefault,onCheckedChange:e=>h({enablePrivilegedByDefault:e})})]}),u.container.enablePrivilegedByDefault&&(0,a.jsx)("div",{className:"p-3 bg-destructive/10 border border-destructive/30 rounded-lg",children:(0,a.jsx)("p",{className:"text-xs text-destructive",children:"Privileged containers have full host access. Use with caution."})})]})]}),(0,a.jsx)($.Es,{children:(0,a.jsx)(o.$,{variant:"outline",onClick:()=>v(!1),children:"Done"})})]})})]})}},2180:(e,s,t)=>{"use strict";t.d(s,{Bc:()=>l,ZI:()=>o,k$:()=>c,m_:()=>i});var a=t(5155);t(2115);var n=t(1659),r=t(5016);function l(e){let{delayDuration:s=0,...t}=e;return(0,a.jsx)(n.Kq,{"data-slot":"tooltip-provider",delayDuration:s,...t})}function i(e){let{...s}=e;return(0,a.jsx)(l,{children:(0,a.jsx)(n.bL,{"data-slot":"tooltip",...s})})}function c(e){let{...s}=e;return(0,a.jsx)(n.l9,{"data-slot":"tooltip-trigger",...s})}function o(e){let{className:s,sideOffset:t=0,children:l,...i}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsxs)(n.UC,{"data-slot":"tooltip-content",sideOffset:t,className:(0,r.cn)("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",s),...i,children:[l,(0,a.jsx)(n.i3,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},4679:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>x,Es:()=>u,L3:()=>h,c7:()=>m,lG:()=>i,rr:()=>p,zM:()=>c});var a=t(5155);t(2115);var n=t(1590),r=t(5229),l=t(5016);function i(e){let{...s}=e;return(0,a.jsx)(n.bL,{"data-slot":"dialog",...s})}function c(e){let{...s}=e;return(0,a.jsx)(n.l9,{"data-slot":"dialog-trigger",...s})}function o(e){let{...s}=e;return(0,a.jsx)(n.ZL,{"data-slot":"dialog-portal",...s})}function d(e){let{className:s,...t}=e;return(0,a.jsx)(n.hJ,{"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function x(e){let{className:s,children:t,showCloseButton:i=!0,...c}=e;return(0,a.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,a.jsx)(d,{}),(0,a.jsxs)(n.UC,{"data-slot":"dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...c,children:[t,i&&(0,a.jsxs)(n.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(r.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",s),...t})}function u(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,l.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function h(e){let{className:s,...t}=e;return(0,a.jsx)(n.hE,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg leading-none font-semibold",s),...t})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(n.VY,{"data-slot":"dialog-description",className:(0,l.cn)("text-muted-foreground text-sm",s),...t})}},5229:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5850:(e,s,t)=>{"use strict";t.d(s,{k:()=>l});var a=t(5155);t(2115);var n=t(4249),r=t(5016);function l(e){let{className:s,value:t,...l}=e;return(0,a.jsx)(n.bL,{"data-slot":"progress",className:(0,r.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...l,children:(0,a.jsx)(n.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})}},5880:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},6170:(e,s,t)=>{"use strict";t.d(s,{p:()=>r});var a=t(5155);t(2115);var n=t(5016);function r(e){let{className:s,type:t,...r}=e;return(0,a.jsx)("input",{type:t,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...r})}},6191:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7235:(e,s,t)=>{"use strict";t.d(s,{d:()=>l});var a=t(5155);t(2115);var n=t(6558),r=t(5016);function l(e){let{className:s,...t}=e;return(0,a.jsx)(n.bL,{"data-slot":"switch",className:(0,r.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:(0,a.jsx)(n.zi,{"data-slot":"switch-thumb",className:(0,r.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}},7250:(e,s,t)=>{Promise.resolve().then(t.bind(t,1091))},7354:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]])},7507:(e,s,t)=>{"use strict";t.d(s,{bq:()=>x,eb:()=>u,gC:()=>m,l6:()=>o,yv:()=>d});var a=t(5155);t(2115);var n=t(8190),r=t(4033),l=t(5917),i=t(2108),c=t(5016);function o(e){let{...s}=e;return(0,a.jsx)(n.bL,{"data-slot":"select",...s})}function d(e){let{...s}=e;return(0,a.jsx)(n.WT,{"data-slot":"select-value",...s})}function x(e){let{className:s,size:t="default",children:l,...i}=e;return(0,a.jsxs)(n.l9,{"data-slot":"select-trigger","data-size":t,className:(0,c.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...i,children:[l,(0,a.jsx)(n.In,{asChild:!0,children:(0,a.jsx)(r.A,{className:"size-4 opacity-50"})})]})}function m(e){let{className:s,children:t,position:r="popper",align:l="center",...i}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsxs)(n.UC,{"data-slot":"select-content",className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,align:l,...i,children:[(0,a.jsx)(h,{}),(0,a.jsx)(n.LM,{className:(0,c.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(p,{})]})})}function u(e){let{className:s,children:t,...r}=e;return(0,a.jsxs)(n.q7,{"data-slot":"select-item",className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(l.A,{className:"size-4"})})}),(0,a.jsx)(n.p4,{children:t})]})}function h(e){let{className:s,...t}=e;return(0,a.jsx)(n.PP,{"data-slot":"select-scroll-up-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(i.A,{className:"size-4"})})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(n.wn,{"data-slot":"select-scroll-down-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(r.A,{className:"size-4"})})}},7624:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]])}},e=>{e.O(0,[4095,6189,2047,1679,4298,1266,2940,9837,8441,1255,7358],()=>e(e.s=7250)),_N_E=e.O()}]);