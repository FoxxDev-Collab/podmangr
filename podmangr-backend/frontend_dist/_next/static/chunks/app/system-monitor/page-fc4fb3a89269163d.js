(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3617],{1765:(e,s,t)=>{Promise.resolve().then(t.bind(t,7721))},1929:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("memory-stick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]])},4249:(e,s,t)=>{"use strict";t.d(s,{C1:()=>g,bL:()=>N});var a=t(2115),r=t(5155),l=t(7602),n="Progress",[i,d]=function(e,s=[]){let t=[],l=()=>{let s=t.map(e=>a.createContext(e));return function(t){let r=t?.[e]||s;return a.useMemo(()=>({[`__scope${e}`]:{...t,[e]:r}}),[t,r])}};return l.scopeName=e,[function(s,l){let n=a.createContext(l);n.displayName=s+"Context";let i=t.length;t=[...t,l];let d=s=>{let{scope:t,children:l,...d}=s,o=t?.[e]?.[i]||n,c=a.useMemo(()=>d,Object.values(d));return(0,r.jsx)(o.Provider,{value:c,children:l})};return d.displayName=s+"Provider",[d,function(t,r){let d=r?.[e]?.[i]||n,o=a.useContext(d);if(o)return o;if(void 0!==l)return l;throw Error(`\`${t}\` must be used within \`${s}\``)}]},function(...e){let s=e[0];if(1===e.length)return s;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=t.reduce((s,{useScope:t,scopeName:a})=>{let r=t(e)[`__scope${a}`];return{...s,...r}},{});return a.useMemo(()=>({[`__scope${s.scopeName}`]:r}),[r])}};return t.scopeName=s.scopeName,t}(l,...s)]}(n),[o,c]=i(n),u=a.forwardRef((e,s)=>{var t,a,n,i;let{__scopeProgress:d,value:c=null,max:u,getValueLabel:m=h,...x}=e;(u||0===u)&&!p(u)&&console.error((t="".concat(u),a="Progress","Invalid prop `max` of value `".concat(t,"` supplied to `").concat(a,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let N=p(u)?u:100;null===c||j(c,N)||console.error((n="".concat(c),i="Progress","Invalid prop `value` of value `".concat(n,"` supplied to `").concat(i,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let g=j(c,N)?c:null,y=f(g)?m(g,N):void 0;return(0,r.jsx)(o,{scope:d,value:g,max:N,children:(0,r.jsx)(l.sG.div,{"aria-valuemax":N,"aria-valuemin":0,"aria-valuenow":f(g)?g:void 0,"aria-valuetext":y,role:"progressbar","data-state":v(g,N),"data-value":null!=g?g:void 0,"data-max":N,...x,ref:s})})});u.displayName=n;var m="ProgressIndicator",x=a.forwardRef((e,s)=>{var t;let{__scopeProgress:a,...n}=e,i=c(m,a);return(0,r.jsx)(l.sG.div,{"data-state":v(i.value,i.max),"data-value":null!=(t=i.value)?t:void 0,"data-max":i.max,...n,ref:s})});function h(e,s){return"".concat(Math.round(e/s*100),"%")}function v(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function f(e){return"number"==typeof e}function p(e){return f(e)&&!isNaN(e)&&e>0}function j(e,s){return f(e)&&!isNaN(e)&&e<=s&&e>=0}x.displayName=m;var N=u,g=x},5850:(e,s,t)=>{"use strict";t.d(s,{k:()=>n});var a=t(5155);t(2115);var r=t(4249),l=t(5016);function n(e){let{className:s,value:t,...n}=e;return(0,a.jsx)(r.bL,{"data-slot":"progress",className:(0,l.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...n,children:(0,a.jsx)(r.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})}},7602:(e,s,t)=>{"use strict";t.d(s,{sG:()=>n});var a=t(2115);t(7650);var r=t(2467),l=t(5155),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let t=(0,r.TL)(`Primitive.${s}`),n=a.forwardRef((e,a)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(r?t:s,{...n,ref:a})});return n.displayName=`Primitive.${s}`,{...e,[s]:n}},{})},7721:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(5155),r=t(2115),l=t(63),n=t(6707),i=t(5781),d=t(3209),o=t(7003),c=t(906),u=t(9559),m=t(5707),x=t(1929),h=t(523),v=t(5850);function f(){var e,s,t,f,p,j,N;let{isAuthenticated:g,isLoading:y,token:b}=(0,n.A)(),k=(0,l.useRouter)(),[w,M]=(0,r.useState)(null),[A,_]=(0,r.useState)(null),[B,C]=(0,r.useState)(!0),[P,R]=(0,r.useState)(null),S=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,s)*100)/100+" "+["B","KB","MB","GB","TB"][s]},F=(0,r.useCallback)(async()=>{if(b){C(!0);try{let[e,s]=await Promise.all([fetch("/api/system/resources",{headers:{Authorization:"Bearer ".concat(b)}}),fetch("/api/system/info",{headers:{Authorization:"Bearer ".concat(b)}})]);e.ok&&s.ok?(M(await e.json()),_(await s.json()),R(null)):R("Failed to load system information")}catch(e){R(e instanceof Error?e.message:"Failed to load system data")}finally{C(!1)}}},[b]);return((0,r.useEffect)(()=>{y||g||k.push("/login")},[g,y,k]),(0,r.useEffect)(()=>{if(b){F();let e=setInterval(F,3e3);return()=>clearInterval(e)}},[b,F]),y||!g)?null:(0,a.jsx)(i.N,{title:"System Monitor",children:(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[A&&(0,a.jsxs)(d.Zp,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,a.jsx)(d.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"h-5 w-5 text-accent"}),"System Information"]}),(0,a.jsxs)(o.$,{onClick:F,size:"sm",variant:"outline",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),(0,a.jsx)(d.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Hostname"}),(0,a.jsx)("div",{className:"font-medium",children:A.hostname})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"OS"}),(0,a.jsx)("div",{className:"font-medium",children:A.os})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Kernel"}),(0,a.jsx)("div",{className:"font-medium",children:A.kernel})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Uptime"}),(0,a.jsx)("div",{className:"font-medium",children:(e=>{let s=Math.floor(e/86400),t=Math.floor(e%86400/3600),a=Math.floor(e%3600/60);return"".concat(s,"d ").concat(t,"h ").concat(a,"m")})(A.uptime)})]})]})})]}),P&&(0,a.jsx)("div",{className:"text-destructive text-sm",children:P}),w&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(d.Zp,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,a.jsx)(d.aR,{children:(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-5 w-5 text-accent"}),"CPU Usage"]})}),(0,a.jsxs)(d.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Overall"}),(0,a.jsxs)("span",{className:"text-sm font-mono",children:[null!=(p=null==(s=w.cpu)||null==(e=s.usage_percent)?void 0:e.toFixed(1))?p:"N/A","%"]})]}),(0,a.jsx)(v.k,{value:null!=(j=null==(t=w.cpu)?void 0:t.usage_percent)?j:0})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Cores: ",null!=(N=null==(f=w.cpu)?void 0:f.cores)?N:"N/A"]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Load Average: ",Array.isArray(w.load_avg)?w.load_avg.map(e=>{var s;return null!=(s=null==e?void 0:e.toFixed(2))?s:"0.00"}).join(", "):"N/A"]})]})]}),(0,a.jsxs)(d.Zp,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,a.jsx)(d.aR,{children:(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-5 w-5 text-accent"}),"Memory Usage"]})}),(0,a.jsx)(d.Wu,{className:"space-y-4",children:(()=>{var e,s,t,r,l,n,i,d,o,c,u;let m=(null==(e=w.memory)?void 0:e.total)?w.memory.used/w.memory.total*100:0,x=(null==(s=w.swap)?void 0:s.total)?w.swap.used/w.swap.total*100:0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"RAM"}),(0,a.jsxs)("span",{className:"text-sm font-mono",children:[m.toFixed(1),"%"]})]}),(0,a.jsx)(v.k,{value:m}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[S(null!=(d=null==(t=w.memory)?void 0:t.used)?d:0)," / ",S(null!=(o=null==(r=w.memory)?void 0:r.total)?o:0)]})]}),(null==(l=w.swap)?void 0:l.total)>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Swap"}),(0,a.jsxs)("span",{className:"text-sm font-mono",children:[x.toFixed(1),"%"]})]}),(0,a.jsx)(v.k,{value:x}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[S(null!=(c=null==(n=w.swap)?void 0:n.used)?c:0)," / ",S(null!=(u=null==(i=w.swap)?void 0:i.total)?u:0)]})]})]})})()})]}),(0,a.jsxs)(d.Zp,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,a.jsx)(d.aR,{children:(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-5 w-5 text-accent"}),"Disk Usage"]})}),(0,a.jsx)(d.Wu,{className:"space-y-4",children:(()=>{var e,s,t,r,l;let n=(null==(e=w.disk)?void 0:e.total)?w.disk.used/w.disk.total*100:0;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Root Filesystem"}),(0,a.jsxs)("span",{className:"text-sm font-mono",children:[n.toFixed(1),"%"]})]}),(0,a.jsx)(v.k,{value:n}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[S(null!=(r=null==(s=w.disk)?void 0:s.used)?r:0)," / ",S(null!=(l=null==(t=w.disk)?void 0:t.total)?l:0)]})]})})()})]})]}),B&&(0,a.jsx)("div",{className:"text-center text-muted-foreground py-8",children:"Loading system data..."})]})})}}},e=>{e.O(0,[4095,6189,2940,9837,8441,1255,7358],()=>e(e.s=1765)),_N_E=e.O()}]);